{"version":3,"sources":["components/Container/Container.module.scss","components/Searchbar/Searchbar.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/Error/Error.module.scss","styles/App.module.scss","components/SerachForm/SearchForm.module.scss","photos-api/index.js","components/Container/index.jsx","components/SerachForm/index.jsx","components/Searchbar/index.jsx","components/ImageGalleryItem/index.jsx","components/ImageGallery/index.jsx","components/Button/index.jsx","components/Modal/index.jsx","components/Error/index.jsx","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss"],"names":["module","exports","searchQuery","currentPage","axios","get","then","data","hits","Container","children","className","styles","SearchForm","onSubmit","useState","query","setQuery","e","preventDefault","type","button","buttonLabel","input","autoComplete","autoFocus","placeholder","value","onChange","target","Searchbar","ImageGalleryItem","webformatURL","tags","largeImageURL","src","alt","data-src","image","defaultProps","ImageGallery","photos","onClick","map","photo","id","Button","Modal","onClose","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","Overlay","currentTarget","Error","text","error","App","state","images","isLoading","showModal","modalImage","modalImageAlt","onChangeQuery","setState","fetchPhotos","options","photosApi","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","openModal","nodeName","dataset","closeModal","prevProps","this","shouldRenderLoadMoreButton","length","color","height","width","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c3ddf661.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__y4wHD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__oHVsl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__qOet3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3-EDK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__3o9fD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3aHUs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__gKK_t\",\"button\":\"SearchForm_button__UI8dN\",\"buttoLabel\":\"SearchForm_buttoLabel__17V03\",\"input\":\"SearchForm_input__MlZV_\"};","import axios from 'axios';\n\nconst apiKey = '20059079-3862fc9514b48e56c5e47271f';\nconst perPage = 12;\n\nconst fetchPhotos = ({ searchQuery, currentPage }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n    )\n    .then(({ data }) => data.hits);\n};\n\nexport default { fetchPhotos };\n","import PropTypes from 'prop-types';\n\nimport styles from './Container.module.scss';\n\nconst Container = ({ children }) => (\n  <div className={styles.Container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './SearchForm.module.scss';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleInputChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form className={styles.SearchForm} onSubmit={handleSubmit}>\n      <button type=\"submit\" className={styles.button}>\n        <span className={styles.buttonLabel}></span>\n      </button>\n\n      <input\n        className={styles.input}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n        value={query}\n        onChange={handleInputChange}\n      />\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import PropTypes from 'prop-types';\n\nimport SearchForm from '../SerachForm';\nimport styles from './Searchbar.module.scss';\n\nconst Searchbar = ({ onSubmit }) => {\n  const handleSubmit = query => {\n    onSubmit(query);\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <SearchForm onSubmit={handleSubmit} />\n    </header>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\n\nimport styles from './ImageGalleryItem.module.scss';\n\nconst ImageGalleryItem = ({ data: { webformatURL, tags, largeImageURL } }) => {\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        data-src={largeImageURL}\n        className={styles.image}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.defaultProps = {\n  data: {\n    tags: 'photo',\n  },\n};\n\nImageGalleryItem.propTypes = {\n  data: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n    largeImageURL: PropTypes.string.isRequired,\n  }),\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport styles from './ImageGallery.module.scss';\n\nconst ImageGallery = ({ photos, onClick }) => {\n  return (\n    <ul className={styles.ImageGallery} onClick={onClick}>\n      {photos.map(photo => (\n        <ImageGalleryItem data={photo} key={photo.id} />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  photos: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\n\nimport styles from './Button.module.scss';\n\nconst Button = ({ onClick }) => {\n  const handleClick = () => {\n    onClick();\n  };\n  return (\n    <button type=\"button\" className={styles.button} onClick={handleClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Modal.module.scss';\n\nconst Modal = ({ image, alt, onClose }) => {\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, []);\n\n  return (\n    <div className={styles.Overlay} onClick={handleOverlayClick}>\n      <div className={styles.Modal}>\n        <img src={image} alt={alt} />\n      </div>\n    </div>\n  );\n};\n\nModal.defaultProps = {\n  alt: 'photo',\n};\n\nModal.propTypes = {\n  image: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n\n// Class\n// class Modal extends Component {\n//   componentDidMount() {\n//     window.addEventListener('keydown', this.handleKeyDown);\n//   }\n\n//   componentWillUnmount() {\n//     window.removeEventListener('keydown', this.handleKeyDown);\n//   }\n\n//   handleKeyDown = e => {\n//     if (e.code === 'Escape') {\n//       this.props.onClose();\n//     }\n//   };\n\n//   handleOverlayClick = e => {\n//     if (e.target === e.currentTarget) {\n//       this.props.onClose();\n//     }\n//   };\n\n//   render() {\n//     const { image, alt } = this.props;\n\n//     return createPortal(\n//       <div className={styles.Overlay} onClick={this.handleOverlayClick}>\n//         <div className={styles.Modal}>\n//           <img src={image} alt={alt} />\n//         </div>\n//       </div>,\n//       modalRoot,\n//     );\n//   }\n// }\n\n// Modal.defaultProps = {\n//   alt: 'photo',\n// };\n\n// Modal.propTypes = {\n//   image: PropTypes.string.isRequired,\n//   alt: PropTypes.string,\n//   onClose: PropTypes.func.isRequired,\n// };\n\n// export default Modal;\n","import PropTypes from 'prop-types';\n\nimport styles from './Error.module.scss';\n\nconst Error = ({ text }) => {\n  return <h2 className={styles.error}>{text}</h2>;\n};\n\nError.defaultProps = {\n  text: 'Ooopps! Something went wrong. Please try again later',\n};\n\nError.propTypes = {\n  text: PropTypes.string,\n};\n\nexport default Error;\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport photosApi from './photos-api';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Error from './components/Error';\n\nimport styles from './styles/App.module.scss';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    currentPage: 1,\n    images: [],\n    isLoading: false,\n    showModal: false,\n    modalImage: '',\n    modalImageAlt: '',\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPhotos();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, currentPage: 1, images: [] });\n  };\n\n  fetchPhotos = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    photosApi\n      .fetchPhotos(options)\n      .then(data => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data],\n          currentPage: prevState.currentPage + 1,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  openModal = e => {\n    if (e.target.nodeName === 'IMG') {\n      this.setState({\n        modalImage: e.target.dataset.src,\n        modalImageAlt: e.target.alt,\n        showModal: true,\n      });\n    }\n  };\n\n  closeModal = e => {\n    this.setState({\n      modalImage: '',\n      modalImageAlt: '',\n      showModal: false,\n    });\n  };\n\n  render() {\n    const { images, isLoading, modalImage, modalImageAlt, error } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <Container>\n          {error && <Error />}\n          <ImageGallery photos={images} onClick={this.openModal} />\n\n          {isLoading && (\n            <Loader\n              type=\"BallTriangle\"\n              color=\"#00BFFF\"\n              height={75}\n              width={75}\n            />\n          )}\n\n          {shouldRenderLoadMoreButton && <Button onClick={this.fetchPhotos} />}\n        </Container>\n        {this.state.showModal && (\n          <Modal\n            image={modalImage}\n            alt={modalImageAlt}\n            onClose={this.closeModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n//Hook\n\n// const App = () => {\n//   const [searchQuery, setSearchQuery] = useState('');\n//   const [currentPage, setCurrentPage] = useState(1);\n//   const [photos, setPhotos] = useState([]);\n\n//   const onChangeQuery = query => {\n//     setSearchQuery(query);\n//     setCurrentPage(1);\n//   };\n\n//   useEffect((prev) => {\n//     if (searchQuery === '') {\n//       setPhotos('');\n//       setCurrentPage(1);\n//     }\n//       if (prev !== searchQuery) {\n//         fetchPhotos();\n//       }\n//   }, [searchQuery]);\n\n//   const fetchPhotos = () => {\n//     const options = { searchQuery, currentPage };\n\n//     photosApi\n//       .fetchPhotos(options)\n//       .then(data => {\n//         setPhotos(data);\n//         setCurrentPage(prev => prev + 1);\n//       })\n//       .catch(error => console.log(error));\n//   };\n\n//   return (\n//     <div className=\"App\">\n//       <Searchbar onSubmit={onChangeQuery} />\n//       <Container>\n//         <ImageGallery photos={photos} />\n//       </Container>\n//     </div>\n//   );\n// };\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\nimport './styles/base.scss';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__NrSO7\",\"image\":\"ImageGalleryItem_image__7TVxk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__A_3Uo\",\"Modal\":\"Modal_Modal__xvgrF\"};"],"sourceRoot":""}